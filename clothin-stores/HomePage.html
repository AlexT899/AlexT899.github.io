<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="css/main.css">
        <title>Mum'S Shop</title></head>
    <body>
        <nav class="navbar">
            <a href="#" class="mobile-menu-toggle">
              <div class="mobile-menu-line"></div>
              <div class="mobile-menu-line"></div>
              <div class="mobile-menu-line"></div>
            </a>
            <!-- /.mobile-menu-toggle -->
            <a href="./" class="header-logo">
             Mum'S Shop
            </a>
            <ul class="header-nav">
              <li class="header-nav-item">
                <a href="/about.html" class="header-nav-link">Home</a>
              </li>
              <li class="header-nav-item">
                <a href="#" class="header-nav-link">Shop</a>
              </li>
              <li class="header-nav-item">
                <a href="#" class="header-nav-link">Features</a>
              </li>
              <li class="header-nav-item">
                <a href="#" class="header-nav-link">Contact</a>
              </li>
            </ul>
            <div>
                <button id="signIn">Sign In</button>
                <button id="signUp">Sign Up</button>
                <div id="modal" style="display:none">
                    <label>Enter your email:</label>
                    <input id="email"></input><br>
                    <label>Name:</label>
                    <input id="name"></input><br>
                    <label>Last Name:</label>
                    <input id="last"></input><br>
                    <label>Phone Number:</label>
                    <input id="phone"></input><br>
                    <button id="submit">Submit</button>
                    <button id="back">Cancel</button>
                </div>
          </nav>
          <!-- /.navbar -->
       <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="header-title">Discover and<br>Find Your Own <br>Fashion!</h1>
                <p class="header-text">
                    Explore our curated collection of stylish <br> clothing tailored  to your unique taste.
                </p>
                <button class="header-button">
                    <p class="button-text">Explore now</p>
                </button>
            </div>
            <!-- /.header-content -->
             <div class="collection-sample">
                <img src="" alt="Space for photo" class="colection-photo">
             </div>
        </div>
        <!-- /.container -->
       </header>
       <!-- /.header -->
    </body>
    <script>
      let user=new Object();
        document.getElementById('signUp').addEventListener("click",display);
        document.getElementById('back').addEventListener("click",noDisplay);
        document.getElementById('submit').addEventListener("click",checkData);
        function display()
        {
            document.getElementById("modal").setAttribute("style","display:block; background-color:rgba(0,0,0,0.5); position:fixed; z-index:1;");
        }
        function noDisplay()
        {
            document.getElementById("modal").setAttribute("style","display:none; background-color:rgba(0,0,0,0.5); position:fixed; z-index:1;");
        }
        async function checkData()
        {
            let key=[false,false,false];
            let alpha=" abcdefghijklmnoprstuvwxyz"
            // email last name phone
            let last=document.getElementById("last").value;
            
            let lastE=last.toLowerCase();
            let c1=0;
            if(last=="")
            {
                key[2]=false;
                document.getElementById("last").value="Enter your name";
                console.log("Blank name");
            }
            else
            {
                let subKey=false;
                
                for(let i=0;i<last.length;i++)
                {
                    let str=lastE.substr(i,1);
                    let d=alpha.length;
                    for(let y=0;y<d;y++)
                    {
                        let strA=alpha.substr(y,1);
                       
                        if(str==strA)
                        {
                            c1++;
                        }
                    }
                }
                if(c1!=last.length)
                {
                    document.getElementById("last").value="Invalid";
                    let d=last.length-1;
                }
                else
                {
                    user.Last=document.getElementById("last").value
                    key[2]=true;
                }
            }
            let name=document.getElementById("name").value;
            let nameE=name.toLowerCase();
            let c=0;
            if(name=="")
            {
                key[1]=false;
                document.getElementById("name").value="Enter your name";
                console.log("Blank name");
            }
            else
            {
                let subKey=false;
                
                for(let i=0;i<name.length;i++)
                {
                    let str=nameE.substr(i,1);
                    let d=alpha.length;
                    for(let y=0;y<d;y++)
                    {
                        let strA=alpha.substr(y,1);
                       
                        if(str==strA)
                        {
                            c++;
                        }
                    }
                }
                if(c!=name.length)
                {
                    document.getElementById("name").value="Invalid";
                    let d=name.length-1;
                    console.log(c+" "+d);
                }
                else
                {
                    user.First=document.getElementById("name").value
                    key[1]=true;
                }
            }
            let email=document.getElementById("email").value;
            let at=email.indexOf("@");
            
            if(email=="")
            {
                document.getElementById("email").value="Please enter your email";
                key[0]=false;
                
            }
            else
            {
                key[0]=true;
            }
            if(at==-1 && email!="")
            {
                key[0]=false;
                document.getElementById("email").value="Invalid";
            }
            else
            {
                key[0]=true;
            }
            if(key[0]==true)
            {
                console.log("Email correct");
                user.Email=email;
            }
            else
            {
                console.log("Email incorrect");
                
            }
            console.log(at+" "+email);
            let masterKey=false;
            let y=0;
            for(let i=0;i<key.length;i++)
            {
                if(key[i]==false)
                {
                    y++;
                    console.log(i+" incorrect cell");
                }
            }
            if(y==0)
            {
                console.log("Entered server");
                const userD="http://localhost:4010/sendUser";
                const res=await fetch(userD,
                {
                    method:"POST",
                    headers:{
                        "Content-Type":"application/json"

                    },
                    body:JSON.stringify(
                    {
                        Email:user.Email,
                        First:user.First,
                        Last:user.Last,    
                    })

                });
                const data=await res.json();
            }
            else{console.log("Failed to enter server");}
        }




        //You can delete all the script 
        let welcome=document.getElementById("Welcome");
        let x;
        let b=0;
        let r=0;
        let next=false;
        let font=0;
        let x1;
        let xS=false;
        let xS1=false;
        function fontSize()
        {
            console.log("Font Size");
            if(font<=120 && xS==false)
            {
                font=font+1;
                if(font==120)
                {
                    xS=true;
                }
            }
            if(font<=120 && font>=80 && xS==true)
            {
                font=font-1;
                if(font==80)
                {
                    xS1=true;
                    clearInterval(x1);
                    x=setInterval(glow,50);
                }
            }
            
            welcome.setAttribute("style","font-weight:bolder;font-size:"+font.toString()+"px; font-family:fantasy; color:rgb("+r.toString()+",0,"+b.toString()+");");
        }
        x1=setInterval(fontSize,10);
        function glow()
        {
            if(b<=255 && next==false)
            {
                b=b+5;
                r=r+3;
                if(b>=255)
                {
                    next=true;
                }
            }
            if(b>=0 && next==true)
            {
                b=b-5;
                r=r-1;
                if(b<=0)
                {
                    next=false;
                }
            }
            welcome.setAttribute("style","font-weight:bolder;font-size:80px; font-family:fantasy; color:rgb("+r.toString()+",0,"+b.toString()+");");
        }
        
    </script>
</html>
