<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=WDXL+Lubrifont+SC&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/autoservice.css" />
    <title>Auto Service</title>
  </head>
  <body>
    <div class="all">
      <div><h1>Auto Service Management System</h1></div>
      <div class="service-type"><h2>Service Type :</h2></div>
      <div class="select-type">
        <select class="select" name="AllServices" id="allservices">
          <option value=""></option>
          <option value="Change Oil">Change Oil</option>
          <option value="Change Tyres">Chage Tyres</option>
          <option value="Check Engine">Check Engine</option>
        </select>
      </div>
      <div class="main-carModel">
        <h1>Car Model:</h1>
        <input class="carModel" type="text" id="carModel" />
      </div>
      <div class="main-date">
        <h1>Date</h1>
        <input class="date" type="date" id="bookingDate" />
      </div>
      <div>
        <select id="bookingTime" name="bookingTime">
          <option value="">-- Select Time --</option>
          <option value="09:00">09:00</option>
          <option value="10:00">10:00</option>
          <option value="11:00">11:00</option>
          <option value="12:00">12:00</option>
          <option value="13:00">13:00</option>
          <option value="14:00">14:00</option>
          <option value="15:00">15:00</option>
          <option value="16:00">16:00</option>
        </select>
      </div>
      <div class="button">
        <input
          class="allButons"
          type="button"
          value="Add Booking"
          id="addBooking"
          onclick="addBooking()"
        />
      </div>
      <div class="button">
        <input
          class="allButons"
          type="button"
          value="Finalize Bookings"
          id="finalBooking"
        />
      </div>
      <div class="button">
        <input
          class="allButons"
          type="button"
          value="Clear Booking"
          id="clear"
          onclick="clearBtn()"
        />
      </div>
      <div class="currentBooking" id="currentBooking"></div>
    </div>
    <script>
      let allServices = [];
      function addBooking() {
        let services = document.getElementById("allservices").value;
        let carModel = document.getElementById("carModel").value;
        let bookingDateStr = document.getElementById("bookingDate").value;
        let bookingTime = document.getElementById("bookingTime").value;
        let bookingDate = new Date(bookingDateStr);
        let currentDate = new Date();
        bookingDate.setHours(0, 0, 0, 0);
        currentDate.setHours(0, 0, 0, 0);
        if (bookingDate < currentDate) {
          document.getElementById(
            "currentBooking"
          ).innerHTML = `Choose Correct Date`;
          return;
        }
        document.getElementById("studentsMarks").innerHTML +=
          "<li>" + allServices + "</li>"; // можно добавить любой html tag

        document.getElementById(
          "currentBooking"
        ).innerHTML = `Current Booking: ${services} - ${carModel} on ${bookingDateStr} ${bookingTime}`;
        document.getElementById("currentBooking").style.border =
          "2px solid greenyellow";
        document.getElementById("currentBooking").style.color = "#b8f906";
        let typeOfSevice = {
          services: services,
          carModel: carModel,
          bookingDate: bookingDate,
          bookingTime: bookingTime,
        };
        allServices.push(typeOfSevice);
        console.log(allServices);
        console.log(currentDate);
      }
      function clearBtn() {
        document.getElementById("bookingTime").value = "";
        document.getElementById("allservices").value = "";
        document.getElementById("carModel").value = "";
        document.getElementById("bookingDate").value = "";
        document.getElementById("currentBooking").innerHTML = "";
        document.getElementById("currentBooking").style.border = "none";
      }
    </script>
  </body>
</html>
